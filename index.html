<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Grapnel.js : A Tiny JavaScript Router With Lots of Features—1.1kb gzipped!" />

    <link href="stylesheets/bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/bootstrap/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Grapnel.js</title>
    <script src="javascripts/jquery.js"></script>
    <script src="javascripts/grapnel.js"></script>
    <script src="javascripts/bootstrap.min.js"></script>
    <script src="javascripts/main.js"></script>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a class="header-link" href="https://github.com/EngineeringMode/Grapnel.js">View on GitHub <span class="icon-github"></span></a>

          <h1 id="project_title">Grapnel.js</h1>
          <h2 id="project_tagline">A Tiny JavaScript Router With Lots of Features—1.1kb gzipped!</h2>

            <section id="downloads">
                <iframe src="http://ghbtns.com/github-btn.html?user=engineeringmode&repo=Grapnel.js&type=watch&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="152" height="30"></iframe>
              <a class="btn btn btn-inverse" href="https://github.com/EngineeringMode/Grapnel.js/zipball/master"><span class="icon-download-alt"></span> .zip</a>
              <a class="btn btn btn-inverse" href="https://github.com/EngineeringMode/Grapnel.js/tarball/master"><span class="icon-download-alt"></span> tar.gz</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
        <section id="main_content" class="inner">

          <ul class="nav nav-tabs">
            <li class="active" data-active="usage"><a href="#usage">Features &amp; Basic Usage</a></li>
            <li data-active="documentation"><a href="#docs">Documentation</a></li>
          </ul>

          <div id="basic-usage">

        <article class="markdown-body entry-content" itemprop="mainContentOfPage">
<h2>
<a name="user-content-router" class="anchor" href="#router"><span class="octicon octicon-link"></span></a>Router</h2>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Grapnel</span><span class="p">();</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'products/:category/:id?'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
        <span class="nx">category</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">category</span><span class="p">;</span>
    <span class="c1">// GET http://mysite.com/#products/widgets/134</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">category</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span>
    <span class="c1">// =&gt; widgets 134</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="user-content-named-parameters" class="anchor" href="#named-parameters"><span class="octicon octicon-link"></span></a>Named Parameters</h2>

<p>Grapnel.js supports regex style routes similar to Sinatra or Express. The properties are mapped to the parameters in the request.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'products/:id?'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">){</span>
    <span class="c1">// GET /file.html#products/134</span>
    <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span>
    <span class="c1">// =&gt; 134</span>
<span class="p">});</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'products/*'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">){</span>
    <span class="c1">// The wildcard/asterisk will match anything after that point in the URL</span>
    <span class="c1">// Parameters are provided req.params using req.params[n], where n is the nth capture</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="user-content-using-multiple-routes" class="anchor" href="#using-multiple-routes"><span class="octicon octicon-link"></span></a>Declaring Multiple Routes</h2>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">routes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'products'</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">){</span>
        <span class="c1">// GET /file.html#products</span>
    <span class="p">},</span>
    <span class="s1">'products/:category/:id?'</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">){</span>
        <span class="c1">// GET /file.html#products/widgets/35</span>
        <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">category</span>
        <span class="c1">// =&gt; widgets</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">Grapnel</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">routes</span><span class="p">);</span>
</pre></div>

<h2>
<a name="user-content-event-handling" class="anchor" href="#event-handling"><span class="octicon octicon-link"></span></a>Event Handling</h2>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Grapnel</span><span class="p">();</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'hashchange'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="c1">// GET /file.html#products</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Anchor changed to %s'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">get</span><span class="p">());</span>
    <span class="c1">// =&gt; Anchor changed to products</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="user-content-regexp-support" class="anchor" href="#regexp-support"><span class="octicon octicon-link"></span></a>RegExp Support</h2>

<p>Grapnel.js allows RegEx when defining a route:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">expression</span> <span class="o">=</span> <span class="sr">/^food\/tacos\/(.*)$/i</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Grapnel</span><span class="p">();</span>

<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">expression</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">event</span><span class="p">){</span>
    <span class="c1">// GET http://mysite.com/page#food/tacos/good</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'I think tacos are %s.'</span><span class="p">,</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="c1">// =&gt; "He thinks tacos are good."</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="user-content-route-context" class="anchor" href="#route-context"><span class="octicon octicon-link"></span></a>Route Context</h2>

<p>You can even add context to a route:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Grapnel</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">foodRoute</span> <span class="o">=</span> <span class="nx">router</span><span class="p">.</span><span class="nx">context</span><span class="p">(</span><span class="s1">'food'</span><span class="p">);</span>

<span class="nx">foodRoute</span><span class="p">(</span><span class="s1">':foodname'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">event</span><span class="p">){</span>
    <span class="c1">// GET /file.html#food/tacos</span>
    <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">foodname</span>
    <span class="c1">// =&gt; This taco thing is getting out of hand.</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="user-content-requirejsamd-and-commonjs-compatibility" class="anchor" href="#requirejsamd-and-commonjs-compatibility"><span class="octicon octicon-link"></span></a>RequireJS/AMD and CommonJS Compatibility</h2>

<div class="highlight highlight-javascript"><pre><span class="nx">require</span><span class="p">([</span><span class="s1">'lib/grapnel'</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Grapnel</span><span class="p">){</span>

    <span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Grapnel</span><span class="p">();</span>

    <span class="nx">router</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'hashchange'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'It works!'</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></div>

<p>&nbsp;</p>

</article>
    </div>

    <div id="documentation">

    <h2>
<a name="user-content-installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<div class="highlight highlight-bash"><pre>bower install grapnel
</pre></div>

<h2>
<a name="user-content-basic-configuration" class="anchor" href="#basic-configuration"><span class="octicon octicon-link"></span></a>Basic Configuration</h2>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Grapnel</span><span class="p">.</span><span class="nx">Router</span><span class="p">();</span>
</pre></div>

<p>Or you can declare your routes with a literal object:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Grapnel</span><span class="p">.</span><span class="nx">listen</span><span class="p">({</span>
    <span class="s1">'products/:id'</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">){</span>
        <span class="c1">// Handler</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="user-content-methods" class="anchor" href="#methods"><span class="octicon octicon-link"></span></a>Methods</h2>

<h5>
<a name="user-content-get-adds-a-new-route-listener" class="anchor" href="#get-adds-a-new-route-listener"><span class="octicon octicon-link"></span></a><code>get</code> Adds a new route listener</h5>

<div class="highlight highlight-javascript"><pre><span class="cm">/**</span>
<span class="cm"> * @param {String|RegExp} path</span>
<span class="cm"> * @param {Function} callback</span>
<span class="cm">*/</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'store/:category/:id?'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">event</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">category</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">category</span><span class="p">,</span>
        <span class="nx">id</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Product #%s in %s'</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">category</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<h5>
<a name="user-content-bind-adds-a-new-event-listener" class="anchor" href="#bind-adds-a-new-event-listener"><span class="octicon octicon-link"></span></a><code>bind</code> Adds a new event listener</h5>

<div class="highlight highlight-javascript"><pre><span class="cm">/**</span>
<span class="cm"> * @param {String|Array} event</span>
<span class="cm"> * @param {Function} callback</span>
<span class="cm">*/</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'hashchange'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Grapnel.js works!'</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<h5>
<a name="user-content-on-an-alias-of-bind" class="anchor" href="#on-an-alias-of-bind"><span class="octicon octicon-link"></span></a><code>on</code> An alias of <code>bind</code>
</h5>

<h5>
<a name="user-content-add-an-alias-of-get" class="anchor" href="#add-an-alias-of-get"><span class="octicon octicon-link"></span></a><code>add</code> An alias of <code>get</code>
</h5>

<h5>
<a name="user-content-anchor" class="anchor" href="#anchor"><span class="octicon octicon-link"></span></a><code>anchor</code>
</h5>

<ul>
<li>
<code>defaultHash</code> Static anchor during initialization</li>
<li>
<code>set</code> Sets a new absolute anchor</li>
<li>
<code>get</code> Get absolute anchor</li>
<li>
<code>clear</code> Clears the anchor</li>
<li>
<code>reset</code> Resets the anchor to its original state when it was loaded</li>
</ul><h2>
<a name="user-content-events" class="anchor" href="#events"><span class="octicon octicon-link"></span></a>Events</h2>

<h5>
<a name="user-content-match-fires-when-a-new-match-is-found-but-before-the-handler-is-called" class="anchor" href="#match-fires-when-a-new-match-is-found-but-before-the-handler-is-called"><span class="octicon octicon-link"></span></a><code>match</code> Fires when a new match is found, but before the handler is called</h5>

<h5>
<a name="user-content-hashchange-fires-when-hashtag-is-changed" class="anchor" href="#hashchange-fires-when-hashtag-is-changed"><span class="octicon octicon-link"></span></a><code>hashchange</code> Fires when hashtag is changed</h5>

<h5>
<a name="user-content-initialized-fires-when-object-is-initialized-this-will-likely-be-useless" class="anchor" href="#initialized-fires-when-object-is-initialized-this-will-likely-be-useless"><span class="octicon octicon-link"></span></a><code>initialized</code> Fires when object is initialized (this will likely be useless)</h5>

<h2>
<a name="user-content-stopping-an-event" class="anchor" href="#stopping-an-event"><span class="octicon octicon-link"></span></a>Stopping an Event</h2>

<div class="highlight highlight-javascript"><pre><span class="nx">router</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'match'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span> <span class="c1">// Stops propagation of the event</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="user-content-license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<h5>
<a name="user-content-mit-license" class="anchor" href="#mit-license"><span class="octicon octicon-link"></span></a><a href="http://opensource.org/licenses/MIT">MIT License</a>
</h5>

    </div>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Grapnel.js maintained by <a href="https://github.com/EngineeringMode">EngineeringMode</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
