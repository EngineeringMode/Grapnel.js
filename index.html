<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Grapnel.js : A Tiny JavaScript Router With Lots of Features—1.1kb gzipped!" />

    <link href="stylesheets/bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/bootstrap/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Grapnel.js</title>
    <script src="javascripts/jquery.js"></script>
    <script src="javascripts/grapnel.js"></script>
    <script src="javascripts/bootstrap.min.js"></script>
    <script src="javascripts/main.js"></script>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a class="header-link" href="https://github.com/EngineeringMode/Grapnel.js">View on GitHub <span class="icon-github"></span></a>

          <h1 id="project_title">Grapnel.js</h1>
          <h2 id="project_tagline">A Tiny JavaScript Router With Lots of Features—1.1kb gzipped!</h2>

            <section id="downloads">
                <iframe src="http://ghbtns.com/github-btn.html?user=engineeringmode&repo=Grapnel.js&type=watch&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="152" height="30"></iframe>
              <a class="btn btn btn-inverse" href="https://github.com/EngineeringMode/Grapnel.js/zipball/master"><span class="icon-download-alt"></span> .zip</a>
              <a class="btn btn btn-inverse" href="https://github.com/EngineeringMode/Grapnel.js/tarball/master"><span class="icon-download-alt"></span> tar.gz</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
        <section id="main_content" class="inner">

          <ul class="nav nav-tabs">
            <li class="active" data-active="usage"><a href="#usage" rel="/">Features &amp; Basic Usage</a></li>
            <li data-active="documentation"><a href="#docs" rel="/docs">Documentation</a></li>
          </ul>

          <div id="basic-usage">

        <article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<h1>
<a id="user-content-grapneljs-features" class="anchor" href="#grapneljs-features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h1>

<ul class="task-list">
<li>Supports routing using <code>pushState</code> or <code>hashchange</code> concurrently</li>
<li>Supports Named Parameters similar to Sinatra, Restify, and Express</li>
<li>Event Handling Support</li>
<li>RegExp Support</li>
<li>RequreJS/AMD and CommonJS Compatibility</li>
<li>No dependencies</li>
</ul>

<h2>
<a id="user-content-basic-router" class="anchor" href="#basic-router" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic Router</h2>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> router <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Grapnel</span>();

router.get(<span class="pl-s1"><span class="pl-pds">'</span>products/:category/:id?<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">req</span>){
    <span class="pl-s">var</span> id <span class="pl-k">=</span> req.params.<span class="pl-sc">id</span>,
        category <span class="pl-k">=</span> req.params.category;
    <span class="pl-c">// GET http://mysite.com/#products/widgets/134</span>
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(category, id);
    <span class="pl-c">// =&gt; widgets 134</span>
});</pre></div>

<h2>
<a id="user-content-advanced-routing-using-pushstate" class="anchor" href="#advanced-routing-using-pushstate" aria-hidden="true"><span class="octicon octicon-link"></span></a>Advanced Routing using pushState</h2>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> router <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Grapnel</span>({ pushState <span class="pl-k">:</span> <span class="pl-c1">true</span> });

router.get(<span class="pl-s1"><span class="pl-pds">'</span>/products/:category/:id?<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">req</span>){
    <span class="pl-s">var</span> id <span class="pl-k">=</span> req.params.<span class="pl-sc">id</span>,
        category <span class="pl-k">=</span> req.params.category

    <span class="pl-en">console</span><span class="pl-s3">.log</span>(category, id);
});

router.<span class="pl-s3">navigate</span>(<span class="pl-s1"><span class="pl-pds">'</span>/products/widgets/134<span class="pl-pds">'</span></span>);
<span class="pl-c">// =&gt; widgets 134</span></pre></div>

<h2>
<a id="user-content-named-parameters" class="anchor" href="#named-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Named Parameters</h2>

<p>Grapnel.js supports regex style routes similar to Sinatra, Restify, and Express. The properties are mapped to the parameters in the request.</p>

<div class="highlight highlight-javascript"><pre>router.get(<span class="pl-s1"><span class="pl-pds">'</span>products/:id?<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">req</span>){
    <span class="pl-c">// GET /file.html#products/134</span>
    req.params.<span class="pl-sc">id</span>
    <span class="pl-c">// =&gt; 134</span>
});

router.get(<span class="pl-s1"><span class="pl-pds">'</span>products/*<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">req</span>){
    <span class="pl-c">// The wildcard/asterisk will match anything after that point in the URL</span>
    <span class="pl-c">// Parameters are provided req.params using req.params[n], where n is the nth capture</span>
});</pre></div>

<h2>
<a id="user-content-declaring-multiple-routes" class="anchor" href="#declaring-multiple-routes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Declaring Multiple Routes</h2>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> routes <span class="pl-k">=</span> {
    <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-en">products</span><span class="pl-pds">'</span></span> : <span class="pl-st">function</span>(<span class="pl-vpf">req</span>){
        <span class="pl-c">// GET /file.html#products</span>
    },
    <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-en">products/:category/:id?</span><span class="pl-pds">'</span></span> : <span class="pl-st">function</span>(<span class="pl-vpf">req</span>){
        <span class="pl-c">// GET /file.html#products/widgets/35</span>
        req.params.category
        <span class="pl-c">// =&gt; widgets</span>
    }
}

Grapnel.listen(routes);</pre></div>

<h2>
<a id="user-content-event-handling" class="anchor" href="#event-handling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Event Handling</h2>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> router <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Grapnel</span>({ pushState <span class="pl-k">:</span> <span class="pl-c1">true</span>, root <span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span> });

router.on(<span class="pl-s1"><span class="pl-pds">'</span>navigate<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">event</span>){
    <span class="pl-c">// GET /foo/bar</span>
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">'</span>URL changed to %s<span class="pl-pds">'</span></span>, <span class="pl-v">this</span>.fragment.get());
    <span class="pl-c">// =&gt; URL changed to /foo/bar</span>
});</pre></div>

<h2>
<a id="user-content-regexp-support" class="anchor" href="#regexp-support" aria-hidden="true"><span class="octicon octicon-link"></span></a>RegExp Support</h2>

<p>Grapnel.js allows RegEx when defining a route:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> expression <span class="pl-k">=</span><span class="pl-sr"> <span class="pl-pds">/</span><span class="pl-k">^</span>food<span class="pl-cce">\/</span>tacos<span class="pl-cce">\/</span>(<span class="pl-c1">.</span><span class="pl-k">*</span>)<span class="pl-k">$</span><span class="pl-pds">/</span>i</span>;
<span class="pl-s">var</span> router <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Grapnel</span>();

router.get(expression, <span class="pl-st">function</span>(<span class="pl-vpf">req</span>, <span class="pl-vpf">event</span>){
    <span class="pl-c">// GET http://mysite.com/page#food/tacos/good</span>
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">'</span>I think tacos are %s.<span class="pl-pds">'</span></span>, req.params[<span class="pl-c1">0</span>]);
    <span class="pl-c">// =&gt; "He thinks tacos are good."</span>
});</pre></div>

<h2>
<a id="user-content-route-context" class="anchor" href="#route-context" aria-hidden="true"><span class="octicon octicon-link"></span></a>Route Context</h2>

<p>You can even add context to a route:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> router <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Grapnel</span>({ pushState <span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-s">var</span> foodRoute <span class="pl-k">=</span> router.context(<span class="pl-s1"><span class="pl-pds">'</span>/food<span class="pl-pds">'</span></span>);

foodRoute(<span class="pl-s1"><span class="pl-pds">'</span>:foodname<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">req</span>, <span class="pl-vpf">event</span>){
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(req.params.foodname);
});

router.<span class="pl-s3">navigate</span>(<span class="pl-s1"><span class="pl-pds">'</span>/food/tacos<span class="pl-pds">'</span></span>);
<span class="pl-c">// =&gt; This taco thing is getting out of hand.</span></pre></div>

<h2>
<a id="user-content-requirejsamd-and-commonjs-compatibility" class="anchor" href="#requirejsamd-and-commonjs-compatibility" aria-hidden="true"><span class="octicon octicon-link"></span></a>RequireJS/AMD and CommonJS Compatibility</h2>

<div class="highlight highlight-javascript"><pre><span class="pl-s3">require</span>([<span class="pl-s1"><span class="pl-pds">'</span>lib/grapnel<span class="pl-pds">'</span></span>], <span class="pl-st">function</span>(<span class="pl-vpf">Grapnel</span>){

    <span class="pl-s">var</span> router <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Grapnel</span>({ pushState <span class="pl-k">:</span> <span class="pl-c1">true</span> });

    router.bind(<span class="pl-s1"><span class="pl-pds">'</span>navigate<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(){
        <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">'</span>It works!<span class="pl-pds">'</span></span>);
    });

    router.<span class="pl-s3">navigate</span>(<span class="pl-s1"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>);

});</pre></div>

<p>&nbsp;</p>

<hr>

<h1>
<a id="user-content-usage--tips" class="anchor" href="#usage--tips" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage &amp; Tips</h1>

<h2>
<a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<div class="highlight highlight-bash"><pre>bower install grapnel</pre></div>

<h2>
<a id="user-content-basic-configuration" class="anchor" href="#basic-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic Configuration</h2>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> router <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Grapnel</span>();</pre></div>

<p>Or you can declare your routes with a literal object:</p>

<div class="highlight highlight-javascript"><pre>Grapnel.listen({
    <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-en">products/:id</span><span class="pl-pds">'</span></span> : <span class="pl-st">function</span>(<span class="pl-vpf">req</span>){
        <span class="pl-c">// Handler</span>
    }
});</pre></div>

<p>When declaring routes with a literal object, router options can be passed as the first parameter:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> opts <span class="pl-k">=</span> { pushState <span class="pl-k">:</span> <span class="pl-c1">true</span> };

Grapnel.listen(opts, routes);</pre></div>

<h2>
<a id="user-content-enabling-pushstate" class="anchor" href="#enabling-pushstate" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enabling PushState</h2>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> router <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Grapnel</span>({ pushState <span class="pl-k">:</span> <span class="pl-c1">true</span> });</pre></div>

<p>You can also specify a root URL by setting it as an option:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> router <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Grapnel</span>({ root <span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>/public/search/<span class="pl-pds">'</span></span>, pushState <span class="pl-k">:</span> <span class="pl-c1">true</span> });</pre></div>

<p>The root may require a beginning slash and a trailing slash depending on how your application utilizes the router.</p>

<h2>
<a id="user-content-navigation" class="anchor" href="#navigation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Navigation</h2>

<p>If pushState is enabled, you can navigate through your application with <code>router.navigate</code>:</p>

<div class="highlight highlight-javascript"><pre>router.<span class="pl-s3">navigate</span>(<span class="pl-s1"><span class="pl-pds">'</span>/products/123<span class="pl-pds">'</span></span>);</pre></div>

<h2>
<a id="user-content-stopping-a-route-event" class="anchor" href="#stopping-a-route-event" aria-hidden="true"><span class="octicon octicon-link"></span></a>Stopping a Route Event</h2>

<div class="highlight highlight-javascript"><pre>router.on(<span class="pl-s1"><span class="pl-pds">'</span>match<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">event</span>){
    <span class="pl-s3">event</span>.preventDefault(); <span class="pl-c">// Stops propagation of the event</span>
});</pre></div>

<p>&nbsp;</p>

</div>

<div id="documentation">

<h1>
<a id="user-content-api-documentation" class="anchor" href="#api-documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>API Documentation</h1>

<h5>
<a id="user-content-get-adds-a-new-route-listener" class="anchor" href="#get-adds-a-new-route-listener" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>get</code> Adds a new route listener</h5>

<div class="highlight highlight-javascript"><pre><span class="pl-c">/**</span>
<span class="pl-c"> * @param {String|RegExp} path</span>
<span class="pl-c"> * @param {Function} callback</span>
<span class="pl-c">*/</span>
router.get(<span class="pl-s1"><span class="pl-pds">'</span>/store/:category/:id?<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">req</span>, <span class="pl-vpf">event</span>){
    <span class="pl-s">var</span> category <span class="pl-k">=</span> req.params.category,
        id <span class="pl-k">=</span> req.params.<span class="pl-sc">id</span>;

    <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">'</span>Product #%s in %s<span class="pl-pds">'</span></span>, id, category);
});</pre></div>

<h5>
<a id="user-content-navigate-navigate-through-application" class="anchor" href="#navigate-navigate-through-application" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>navigate</code> Navigate through application</h5>

<div class="highlight highlight-javascript"><pre><span class="pl-c">/**</span>
<span class="pl-c"> * @param {String} path relative to root</span>
<span class="pl-c">*/</span>
router.<span class="pl-s3">navigate</span>(<span class="pl-s1"><span class="pl-pds">'</span>/products/123<span class="pl-pds">'</span></span>);</pre></div>

<h5>
<a id="user-content-bind-adds-a-new-event-listener" class="anchor" href="#bind-adds-a-new-event-listener" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>bind</code> Adds a new event listener</h5>

<div class="highlight highlight-javascript"><pre><span class="pl-c">/**</span>
<span class="pl-c"> * @param {String} event name (multiple events can be called when seperated by a space " ")</span>
<span class="pl-c"> * @param {Function} callback</span>
<span class="pl-c">*/</span>
router.bind(<span class="pl-s1"><span class="pl-pds">'</span>myevent<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">event</span>){
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">'</span>Grapnel.js works!<span class="pl-pds">'</span></span>);
});</pre></div>

<h5>
<a id="user-content-trigger-triggers-an-event" class="anchor" href="#trigger-triggers-an-event" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>trigger</code> Triggers an event</h5>

<div class="highlight highlight-javascript"><pre><span class="pl-c">/**</span>
<span class="pl-c"> * @param {String} event name (multiple events can be called when seperated by a space " ")</span>
<span class="pl-c"> * @param {Mixed} [attributes] Parameters that will be applied to event handler</span>
<span class="pl-c">*/</span>
router.trigger(<span class="pl-s1"><span class="pl-pds">'</span>event otherevent<span class="pl-pds">'</span></span>, eventArg1, eventArg2);</pre></div>

<h5>
<a id="user-content-context-returns-a-function-that-can-be-called-with-a-specific-route-in-context" class="anchor" href="#context-returns-a-function-that-can-be-called-with-a-specific-route-in-context" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>context</code> Returns a function that can be called with a specific route in context</h5>

<div class="highlight highlight-javascript"><pre><span class="pl-c">/**</span>
<span class="pl-c"> * @param {String} Route context</span>
<span class="pl-c"> * @return {Function} Adds route to context</span>
<span class="pl-c">*/</span>
<span class="pl-s">var</span> searchFn <span class="pl-k">=</span> router.context(<span class="pl-s1"><span class="pl-pds">'</span>/search<span class="pl-pds">'</span></span>);

searchFn(<span class="pl-s1"><span class="pl-pds">'</span>:keyword<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">req</span>, <span class="pl-vpf">event</span>){
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(req.params.keyword);
});

router.<span class="pl-s3">navigate</span>(<span class="pl-s1"><span class="pl-pds">'</span>/search/widgets<span class="pl-pds">'</span></span>);
<span class="pl-c">// =&gt; widgets</span></pre></div>

<h5>
<a id="user-content-on-an-alias-of-bind" class="anchor" href="#on-an-alias-of-bind" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>on</code> An alias of <code>bind</code>
</h5>

<h5>
<a id="user-content-add-an-alias-of-get" class="anchor" href="#add-an-alias-of-get" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>add</code> An alias of <code>get</code>
</h5>

<h5>
<a id="user-content-fragment-or-hash-or-anchor-aliased-to-reduce-confusion-in-different-routing-modes" class="anchor" href="#fragment-or-hash-or-anchor-aliased-to-reduce-confusion-in-different-routing-modes" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>fragment</code> or <code>hash</code> or <code>anchor</code> (aliased to reduce confusion in different routing modes)</h5>

<ul class="task-list">
<li>
<code>set</code> Sets a new absolute URL or Hash</li>
<li>
<code>get</code> Get absolute URL or Hash</li>
<li>
<code>clear</code> Clears the URL or Hash</li>
</ul>

<h2>
<a id="user-content-events" class="anchor" href="#events" aria-hidden="true"><span class="octicon octicon-link"></span></a>Events</h2>

<h5>
<a id="user-content-navigate-fires-when-router-navigates-through-history" class="anchor" href="#navigate-fires-when-router-navigates-through-history" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>navigate</code> Fires when router navigates through history</h5>

<h5>
<a id="user-content-match-fires-when-a-new-match-is-found-but-before-the-handler-is-called" class="anchor" href="#match-fires-when-a-new-match-is-found-but-before-the-handler-is-called" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>match</code> Fires when a new match is found, but before the handler is called</h5>

<h5>
<a id="user-content-hashchange-fires-when-hashtag-is-changed" class="anchor" href="#hashchange-fires-when-hashtag-is-changed" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>hashchange</code> Fires when hashtag is changed</h5>

<h2>
<a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<h5>
<a id="user-content-mit-license" class="anchor" href="#mit-license" aria-hidden="true"><span class="octicon octicon-link"></span></a><a href="http://opensource.org/licenses/MIT">MIT License</a>
</h5>
</article>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Grapnel.js maintained by <a href="https://github.com/EngineeringMode">EngineeringMode</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
